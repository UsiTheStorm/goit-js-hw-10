import"./assets/styles-C9LqtK2I.js";import{i as l,f as I}from"./assets/vendor-DHwbnsIA.js";const m=e=>{l.success({title:"✅",message:e,position:"bottomRight",transitionIn:"bounceInRight",transitionOut:"fadeOut",progressBar:!0,theme:"light",animateInside:!0,timeout:5e3})},f=e=>{l.warning({title:"⚠️",message:e,position:"bottomRight",transitionIn:"bounceInRight",transitionOut:"fadeOut",progressBar:!0,theme:"light",animateInside:!0,timeout:5e3})},o=document.querySelector("[data-start]"),n=document.querySelector("[data-stop]"),h=document.querySelector("#datetime-picker"),T=document.querySelector("[data-days]"),v=document.querySelector("[data-hours]"),C=document.querySelector("[data-minutes]"),q=document.querySelector("[data-seconds]");let t=null,r=null;const i=localStorage.getItem("countdownDate");o.disabled=!0;n.disabled=!0;function k(){if(i&&Number.isFinite(Number(i))){let e=new Date(Number(i));e>new Date?(t=e,u(g(t-Date.now())),b()):localStorage.removeItem("countdownDate")}}k();o.addEventListener("click",()=>{!t||t<new Date?f("Please choose a date in the future"):(b(),m("Countdown started"))});n.addEventListener("click",M);function g(e){const y=Math.floor(e/864e5),D=Math.floor(e%864e5/36e5),w=Math.floor(e%864e5%36e5/6e4),S=Math.floor(e%864e5%36e5%6e4/1e3);return{days:y,hours:D,minutes:w,seconds:S}}function s(e){return e.toString().padStart(2,"0")}function E(e){return e-Date.now()}function u({days:e,hours:a,minutes:d,seconds:c}){T.textContent=s(e),v.textContent=s(a),C.textContent=s(d),q.textContent=s(c)}function p(){clearInterval(r),t=null,r=null,o.disabled=!0,n.disabled=!0,h.disabled=!1,u({days:0,hours:0,minutes:0,seconds:0}),localStorage.removeItem("countdownDate")}function b(){if(o.disabled=!0,n.disabled=!1,r!==null){console.log("Timer alredy run");return}h.disabled=!0,r=setInterval(()=>{let e=E(t),a=g(e);u(a),e<=0&&(console.log("Time is up"),m("Time is up"),p())},1e3)}function M(){p(),console.log("Timer stopped")}const x={enableTime:!0,time_24hr:!0,defaultDate:new Date,minDate:"today",minuteIncrement:1,onClose(e){console.log(e[0]),t=e[0],t<new Date?(f("Please choose a date in the future"),o.disabled=!0,n.disabled=!0):(o.disabled=!1,n.disabled=!0,localStorage.setItem("countdownDate",t.getTime()))}};I("#datetime-picker",x);
//# sourceMappingURL=1-timer.js.map
