import"./assets/styles-C9LqtK2I.js";import{i as f,f as T}from"./assets/vendor-DHwbnsIA.js";const h=e=>{f.success({title:"✅",message:e,position:"bottomRight",transitionIn:"bounceInRight",transitionOut:"fadeOut",progressBar:!0,theme:"light",animateInside:!0,timeout:5e3})},g=e=>{f.warning({title:"⚠️",message:e,position:"bottomRight",transitionIn:"bounceInRight",transitionOut:"fadeOut",progressBar:!0,theme:"light",animateInside:!0,timeout:5e3})},o=document.querySelector("[data-start]"),a=document.querySelector("[data-stop]"),u=document.querySelector("#datetime-picker"),k=document.querySelector("[data-days]"),v=document.querySelector("[data-hours]"),C=document.querySelector("[data-minutes]"),q=document.querySelector("[data-seconds]");let t=null,i=null;const d=Number(localStorage.getItem("countdownDate"));o.disabled=!0;a.disabled=!0;function E(){if(d&&Number.isFinite(d)){let e=new Date(Number(d));e>new Date?(t=e,c(b(t-Date.now())),y()):(localStorage.removeItem("countdownDate"),n("idle"))}else n("idle")}E();function n(e){switch(e){case"idle":o.disabled=!0,a.disabled=!0,u.disabled=!1;break;case"ready":o.disabled=!1,a.disabled=!0,u.disabled=!1;break;case"running":o.disabled=!0,a.disabled=!1,u.disabled=!0;break;default:console.error("Unknown timer state",e)}}o.addEventListener("click",()=>{!t||t<new Date?g("Please choose a date in the future"):(y(),h("Countdown started"))});a.addEventListener("click",x);function b(e){const w=Math.floor(e/864e5),D=Math.floor(e%864e5/36e5),S=Math.floor(e%864e5%36e5/6e4),I=Math.floor(e%864e5%36e5%6e4/1e3);return{days:w,hours:D,minutes:S,seconds:I}}function r(e){return e.toString().padStart(2,"0")}function M(e){return e-Date.now()}function c({days:e,hours:s,minutes:l,seconds:m}){k.textContent=r(e),v.textContent=r(s),C.textContent=r(l),q.textContent=r(m)}function p(){clearInterval(i),t=null,i=null,n("idle"),c({days:0,hours:0,minutes:0,seconds:0}),localStorage.removeItem("countdownDate")}function y(){if(i!==null){console.log("Timer is already run");return}n("running"),i=setInterval(()=>{let e=M(t),s=b(e);c(s),e<=0&&(console.log("Time is up"),h("Time is up"),p())},1e3)}function x(){p(),console.log("Timer stopped")}const B={enableTime:!0,time_24hr:!0,defaultDate:new Date,minDate:"today",minuteIncrement:1,onClose(e){t=e[0],t<new Date?(g("Please choose a date in the future"),n("idle")):(n("ready"),localStorage.setItem("countdownDate",t.getTime()))}};T("#datetime-picker",B);
//# sourceMappingURL=1-timer.js.map
