import"./assets/styles-C9LqtK2I.js";import{i as f,f as v}from"./assets/vendor-DHwbnsIA.js";const h=e=>{f.success({title:"✅",message:e,position:"bottomRight",transitionIn:"bounceInRight",transitionOut:"fadeOut",progressBar:!0,theme:"light",animateInside:!0,timeout:5e3})},g=e=>{f.warning({title:"⚠️",message:e,position:"bottomRight",transitionIn:"bounceInRight",transitionOut:"fadeOut",progressBar:!0,theme:"light",animateInside:!0,timeout:5e3})},b="idle",p="ready",D="running",o=document.querySelector("[data-start]"),s=document.querySelector("[data-stop]"),u=document.querySelector("#datetime-picker"),M=document.querySelector("[data-days]"),R=document.querySelector("[data-hours]"),C=document.querySelector("[data-minutes]"),q=document.querySelector("[data-seconds]");let t=null,i=null;const c=Number(localStorage.getItem("countdownDate"));o.disabled=!0;s.disabled=!0;function _(){if(c&&Number.isFinite(c)){let e=new Date(Number(c));e>new Date?(t=e,d(I(t-Date.now())),T()):(localStorage.removeItem("countdownDate"),n(b))}else n("idle")}_();function n(e){switch(e){case b:o.disabled=!0,s.disabled=!0,u.disabled=!1;break;case p:o.disabled=!1,s.disabled=!0,u.disabled=!1;break;case D:o.disabled=!0,s.disabled=!1,u.disabled=!0;break;default:console.error("Unknown timer state",e)}}o.addEventListener("click",()=>{!t||t<new Date?g("Please choose a date in the future"):(T(),h("Countdown started"))});s.addEventListener("click",O);function I(e){const w=Math.floor(e/864e5),y=Math.floor(e%864e5/36e5),E=Math.floor(e%864e5%36e5/6e4),k=Math.floor(e%864e5%36e5%6e4/1e3);return{days:w,hours:y,minutes:E,seconds:k}}function r(e){return e.toString().padStart(2,"0")}function N(e){return e-Date.now()}function d({days:e,hours:a,minutes:l,seconds:m}){M.textContent=r(e),R.textContent=r(a),C.textContent=r(l),q.textContent=r(m)}function S(){clearInterval(i),t=null,i=null,n("idle"),d({days:0,hours:0,minutes:0,seconds:0}),localStorage.removeItem("countdownDate")}function T(){if(i!==null){console.log("Timer is already running");return}n(D),i=setInterval(()=>{let e=N(t),a=I(e);d(a),e<=0&&(console.log("Time is up"),h("Time is up"),S())},1e3)}function O(){S(),console.log("Timer stopped")}const x={enableTime:!0,time_24hr:!0,defaultDate:new Date,minDate:"today",minuteIncrement:1,onClose(e){t=e[0],t<new Date?(g("Please choose a date in the future"),n("idle")):(n(p),localStorage.setItem("countdownDate",t.getTime()))}};v("#datetime-picker",x);
//# sourceMappingURL=1-timer.js.map
