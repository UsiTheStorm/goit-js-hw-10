import"./assets/styles-CEGbuB2w.js";import{i as g,f as v}from"./assets/vendor-DHwbnsIA.js";const D=e=>{g.success({title:"✅",message:e,position:"bottomRight",transitionIn:"bounceInRight",transitionOut:"fadeOut",progressBar:!0,theme:"light",animateInside:!0,timeout:5e3})},l=e=>{g.warning({title:"⚠️",message:e,position:"bottomRight",transitionIn:"bounceInRight",transitionOut:"fadeOut",progressBar:!0,theme:"light",animateInside:!0,timeout:5e3})},i="idle",S="ready",p="running",s=document.querySelector("[data-start]"),r=document.querySelector("[data-stop]"),c=document.querySelector("#datetime-picker"),M=document.querySelector("[data-days]"),R=document.querySelector("[data-hours]"),C=document.querySelector("[data-minutes]"),q=document.querySelector("[data-seconds]");let t=null,u=null,d=Number(localStorage.getItem("countdownDate"));n(i);function _(){if(d&&Number.isFinite(d)){const e=new Date(d);e>new Date?(t=e,m(I(t-Date.now())),b()):(localStorage.removeItem("countdownDate"),n(i))}else n(i)}_();function n(e){switch(e){case i:s.disabled=!0,r.disabled=!0,c.disabled=!1;break;case S:s.disabled=!1,r.disabled=!0,c.disabled=!1;break;case p:s.disabled=!0,r.disabled=!1,c.disabled=!0;break;default:console.error(`Unknown timer state: ${e}`)}}s.addEventListener("click",()=>{!t||t<new Date?l("Please choose a date in the future"):(b(),D("Countdown started"))});r.addEventListener("click",O);function I(e){const w=Math.floor(e/864e5),y=Math.floor(e%864e5/36e5),E=Math.floor(e%864e5%36e5/6e4),k=Math.floor(e%864e5%36e5%6e4/1e3);return{days:w,hours:y,minutes:E,seconds:k}}function a(e){return e.toString().padStart(2,"0")}function N(e){return e-Date.now()}function m({days:e,hours:o,minutes:f,seconds:h}){M.textContent=a(e),R.textContent=a(o),C.textContent=a(f),q.textContent=a(h)}function T(){clearInterval(u),t=null,u=null,n("idle"),m({days:0,hours:0,minutes:0,seconds:0}),localStorage.removeItem("countdownDate")}function b(){if(u!==null){l("Timer is already running");return}n(p),u=setInterval(()=>{let e=N(t);if(e<=0){console.log("Time is up"),D("Time is up"),T();return}let o=I(e);m(o)},1e3)}function O(){T(),console.log("Timer stopped")}const x={enableTime:!0,time_24hr:!0,defaultDate:new Date,minDate:"today",minuteIncrement:1,onClose(e){t=e[0],t<new Date?(l("Please choose a date in the future"),n("idle")):(n(S),localStorage.getItem("countdownDate")!==t.getTime().toString()&&localStorage.setItem("countdownDate",t.getTime()))}};v("#datetime-picker",x);
//# sourceMappingURL=1-timer.js.map
